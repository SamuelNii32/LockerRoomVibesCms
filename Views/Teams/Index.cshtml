@model IEnumerable<LockerRoomVibesCms.Models.TeamDto>

@{
	ViewData["Title"] = "Teams Management";
}

<div class="container mt-4">
	<div class="d-flex justify-content-between align-items-center mb-4 fade-in">
		<h2><i class="fas fa-users me-2"></i>Teams Management</h2>
		<a asp-controller="Teams" asp-action="Create" class="btn btn-primary">
			<i class="fas fa-plus me-1"></i>Add New Team
		</a>

	</div>

	<div class="row mb-3 fade-in" style="animation-delay: 0.1s;">
		<div class="col-md-6">
			<div class="input-group search-box">
				<input type="text" class="form-control" placeholder="Search teams..." id="searchInput">
				<button class="btn btn-outline-secondary" type="button">
					<i class="fas fa-search"></i>
				</button>
			</div>
		</div>
		<div class="col-md-6 text-end">
			<small class="text-muted">Total: <span id="totalCount">@Model.Count()</span> teams</small>
		</div>
	</div>

	<div class="card fade-in" style="animation-delay: 0.2s;">
		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-hover">
					<thead class="table-light">
						<tr>
							<th>Logo</th>
							<th>Team Name</th>
							<th>Playlists Count</th>

							<th>Actions</th>
						</tr>
					</thead>
					<tbody id="teamsTableBody">
						@foreach (var team in Model)
						{
							<tr data-team-name="@team.Name">
								<td>
									<img src="@(string.IsNullOrEmpty(team.LogoUrl) ? "/placeholder.svg?height=40&width=40" : team.LogoUrl)" alt="@team.Name Logo" class="team-logo" style="height:40px; width:40px;">
								</td>
								<td>
									<strong>@team.Name</strong>
									<br /><small class="text-muted">Football Club</small>
								</td>
								<td>
									<span class="badge bg-info">@team.PlaylistCount playlists</span>
								</td>

								<td class="table-actions">
									<a asp-controller="Teams" asp-action="Details" asp-route-id="@team.id" class="btn btn-sm btn-outline-info" title="View Details">
										<i class="fas fa-eye"></i>
									</a>

									<button type="button"
											class="btn btn-sm btn-outline-warning edit-btn"
											data-team-id="@team.id"
											data-team-name="@team.Name"
											data-team-logourl="@team.LogoUrl"
											title="Edit">
										<i class="fas fa-edit"></i>
									</button>


									<button type="button"
											class="btn btn-sm btn-outline-danger delete-btn"
											data-bs-toggle="modal"
											data-bs-target="#deleteModal"
											data-team-id="@team.id"
											data-team-name="@team.Name"
											title="Delete">
										<i class="fas fa-trash"></i>
									</button>


								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>



	@await Html.PartialAsync("_DeleteModal")
	@await Html.PartialAsync("_EditModal")




</div>
@section Scripts {
	<script src="~/js/team.js"></script>
}

